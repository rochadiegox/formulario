<!DOCTYPE html>
<html ng-app="meuFormulario">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="angular.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Formuário de Cadastro</title>
  </head>
  <body class="container w-75" ng-controller="formularioController as form">
    <div class="border my-4">
      <header class="container p-2 ps-3 bg-secondary text-dark">Formulário de Cadastro</header>
      <form ng-submit="form.addTodo()">
        <div class="row g-2 p-4">
          <div class="col-md-3">
            <label class="form-label" for="inputCnpj">CNPJ:</label>
            <input class="form-control" id="inputCNPJ" type="text" ng-model="form.empresa.cnpj">
          </div>
          <div class="col-md-9">
            <label class="form-label" for="Nome da Empresa">Nome da Empresa:</label>
            <input class="form-control" id="nomeEmpresa" ng-model="form.empresa.nomedaEmpresa" placeholder="Digite o nome da empresa ">
          </div>
        </div>
        <div class="row g-2 px-4 py-1">
          <div class="col-md-2 mt-0" ng-if="form.empresa.uf != 'SP'">
            <label class="form-label" for="inputCEP">CEP:</label>
            <input class="form-control" id="inputCEP" ng-model="form.empresa.cep">
          </div>
          <div class="col-md-8 mt-0" ng-if="form.empresa.uf != 'SP'">
            <label class="form-label" for="inputEndereco">Endereço</label>
            <input class="form-control" id="inputEndereco" ng-model="form.empresa.endereco">
          </div>
          <div class="col-md-2 mt-0" ng-if="form.empresa.uf != 'SP'">
            <label class="form-label" for="inputNumero">Número:</label>
            <input class="form-control" id="inputNumero" ng-model="form.empresa.numero">
          </div>
          <div class="col-md-12" ng-if="form.empresa.uf == 'SP'">
            <label class="form-label" for="selectUF">UF:</label>
            <select class="form-select" ng-model="form.empresa.uf">
              <option>SP</option>
              <option>RJ</option>
            </select>
          </div>
        </div>
        <div class="row g-2 px-4 py-2">
          <div class="col-sm-7">
            <label class="form-label" for="inputBairro">Bairro</label>
            <input class="form-control" id="inputBairro" ng-model="form.empresa.bairro">
          </div>
          <div class="col-sm-2" ng-if="form.empresa.uf != 'SP'">
            <label class="form-label" for="selectUF">UF:</label>
            <select class="form-select" ng-model="form.empresa.uf">
              <option>SP</option>
              <option>RJ</option>
            </select>
          </div>
          <div class="col-sm-3">
            <label class="form-label" for="selectCidade">Cidade:</label>
            <select class="form-select" ng-model="form.empresa.cidade">
              <option>Campinas                        </option>
              <option>São Paulo</option>
            </select>
          </div>
          <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <button class="btn btn-secondary" type="button" ng-click="form.clean()">Cancelar</button>
            <button class="btn btn-primary" type="submit">Salvar</button>
          </div>
        </div>
      </form>
    </div>
    <p class="w-0">Endereço da Empresa</p>
    <div class="container p-0">
      <table class="table table-bordered text-center">
        <thead class="table-secondary">
          <tr>
            <th Colspan-1>CNPJ</th>
            <th Colspan-1>Nome da Empresa               </th>
            <th Colspan-1>CEP</th>
            <th Colspan-1>Endereco</th>
            <th Colspan-1>Número</th>
            <th Colspan-1>Bairro</th>
            <th Colspan-1>UF</th>
            <th Colspan-1>Cidade                 </th>
            <th Colspan-1>Edit</th>
            <th Colspan-1>Excluir</th>
          </tr>
        </thead>
        <tbody class="text-break">
          <tr ng-repeat="($index,todo) in form.todos">        
            <td>{{todo.cnpj}}</td>
            <td>{{todo.nomedaEmpresa}}</td>
            <td>{{todo.cep}}</td>
            <td>{{todo.endereco}}</td>
            <td>{{todo.numero}}</td>
            <td>{{todo.bairro}}</td>
            <td>{{todo.uf}}</td>
            <td>{{todo.cidade}}</td>
            <td><a href="#">Edit</a></td>
            <td> 
              <button class="btn btn-danger" type="button" ng-click="form.excluir($index)"></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>